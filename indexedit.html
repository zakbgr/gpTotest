<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plateforme de Gestion des Stages M√©dicaux - Wilaya de Boumerd√®s</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/locale/fr.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <style>
        :root {
            --primary: #2c5aa0;
            --primary-dark: #1e3d72;
            --secondary: #f8f9fa;
            --accent: #ff6b00;
            --medical: #2a7a5c;
            --medical-light: #3a9a7c;
            --medical-dark: #1e5e46;
            --text: #333;
            --text-light: #666;
            --border: #e0e0e0;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #17a2b8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Login Page Styles */
        .login-container {
            display: flex;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--medical) 0%, var(--medical-dark) 100%);
        }

        .login-left {
            flex: 1;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .login-right {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 40px;
            text-align: center;
        }

        .login-form {
            width: 100%;
            max-width: 400px;
        }

        .login-logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-logo i {
            font-size: 48px;
            color: var(--medical);
            margin-bottom: 15px;
        }

        .login-logo h1 {
            color: var(--medical);
            font-size: 28px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            border-color: var(--medical);
            outline: none;
        }

        .btn {
            padding: 12px 20px;
            font-weight: 600;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 16px;
        }

        .btn-block {
            width: 100%;
        }

        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-medical {
            background: var(--medical);
            color: white;
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-warning {
            background: var(--warning);
            color: black;
        }

        .btn-info {
            background: var(--info);
            color: white;
        }

        .btn-medical:hover {
            background: var(--medical-dark);
        }

        .login-links {
            text-align: center;
            margin-top: 20px;
        }

        .login-links a {
            color: var(--medical);
            text-decoration: none;
        }

        .login-links a:hover {
            text-decoration: underline;
        }

        .login-features {
            max-width: 500px;
        }

        .login-features h2 {
            font-size: 32px;
            margin-bottom: 20px;
        }

        .feature-list {
            list-style: none;
            text-align: left;
        }

        .feature-list li {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feature-list i {
            font-size: 20px;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            color: var(--medical);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-role {
            background: var(--medical);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        nav {
            background-color: var(--medical);
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li a {
            display: block;
            padding: 12px 20px;
            color: white;
            font-weight: 500;
            transition: background 0.3s;
            cursor: pointer;
            text-decoration: none;
        }

        .nav-links li a:hover, .nav-links li a.active {
            background-color: var(--medical-dark);
        }

        /* Role Selection */
        .role-selection {
            background: white;
            padding: 40px 0;
            text-align: center;
        }

        .role-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .role-card {
            background: white;
            border-radius: 8px;
            padding: 30px 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .role-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-color: var(--medical);
        }

        .role-icon {
            width: 60px;
            height: 60px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--medical);
            margin: 0 auto 15px;
        }

        /* Section Styles */
        .section {
            display: none;
            padding: 30px 0;
            min-height: 80vh;
        }

        .section.active {
            display: block;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--medical);
        }

        .section-header h2 {
            color: var(--medical);
        }

        /* Common Components */
        .card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .stat-card i {
            font-size: 2rem;
            color: var(--medical);
            margin-bottom: 10px;
        }

        .stat-card .number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--medical);
        }

        .stat-card .label {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .table th, .table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .table th {
            background: var(--secondary);
            font-weight: 600;
            color: var(--medical);
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .status-pending { background: #fff3cd; color: var(--warning); }
        .status-approved { background: #e8f5e8; color: var(--success); }
        .status-rejected { background: #f8d7da; color: var(--danger); }
        .status-inprogress { background: #cce7ff; color: var(--primary); }
        .status-completed { background: #e8f5e8; color: var(--success); }
        .status-draft { background: #e2e3e5; color: var(--text-light); }

        .filters {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .filter-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .search-box {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .search-form {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 15px;
        }

        .calendar-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .evaluation-form {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .rating-slider {
            width: 100%;
            margin: 10px 0;
        }

        .rating-value {
            text-align: center;
            font-weight: bold;
            color: var(--medical);
        }

        .profile-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
        }

        .profile-sidebar {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            height: fit-content;
        }

        .profile-avatar {
            text-align: center;
            margin-bottom: 20px;
        }

        .avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 40px;
            color: var(--medical);
            border: 3px solid var(--medical);
        }

        .profile-nav {
            list-style: none;
        }

        .profile-nav li {
            margin-bottom: 10px;
        }

        .profile-nav a {
            display: block;
            padding: 10px 15px;
            color: var(--text);
            text-decoration: none;
            border-radius: 4px;
            transition: background 0.3s;
        }

        .profile-nav a:hover, .profile-nav a.active {
            background: var(--medical);
            color: white;
        }

        .profile-content {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .info-item {
            margin-bottom: 15px;
        }

        .info-label {
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 16px;
        }

        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .document-card {
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .document-icon {
            font-size: 40px;
            color: var(--medical);
            margin-bottom: 10px;
        }

        .document-actions {
            display: flex;
            gap: 5px;
            justify-content: center;
            margin-top: 10px;
        }

        .upload-area {
            border: 2px dashed var(--border);
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .upload-area:hover {
            border-color: var(--medical);
        }

        .upload-icon {
            font-size: 50px;
            color: var(--medical);
            margin-bottom: 15px;
        }

        .file-list {
            list-style: none;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            border-bottom: 1px solid var(--border);
        }

        .file-item:last-child {
            border-bottom: none;
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .file-icon {
            color: var(--medical);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-light);
        }

        .notification-badge {
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            position: absolute;
            top: -5px;
            right: -5px;
        }

        .notification-item {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
        }

        .notification-item:hover {
            background: var(--secondary);
        }

        .notification-item.unread {
            background: #e8f4fd;
        }

        /* Registration Styles */
        .registration-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 20px;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .step.active .step-number {
            background: var(--medical);
            color: white;
        }

        .step-label {
            font-size: 14px;
            color: var(--text-light);
        }

        .step.active .step-label {
            color: var(--medical);
            font-weight: 600;
        }

        .registration-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .registration-step {
            display: none;
        }

        .registration-step.active {
            display: block;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .login-container {
                flex-direction: column;
            }
            .login-right {
                order: -1;
                padding: 20px;
            }
            .quick-stats, .role-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            .search-form {
                grid-template-columns: 1fr;
            }
            .profile-container {
                grid-template-columns: 1fr;
            }
            .info-grid {
                grid-template-columns: 1fr;
            }
            .documents-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            .nav-links {
                flex-wrap: wrap;
            }
            .quick-stats, .role-cards {
                grid-template-columns: 1fr;
            }
            .filter-row {
                grid-template-columns: 1fr;
            }
            .registration-steps {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="login-page" class="login-container">
        <div class="login-left">
            <div class="login-form">
                <div class="login-logo">
                    <i class="fas fa-stethoscope"></i>
                    <h1>StagesM√©dicaux</h1>
                    <p>Plateforme de gestion des stages m√©dicaux</p>
                </div>

                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Adresse email ou Num√©ro √©tudiant</label>
                        <input type="text" id="login-email" class="form-control" placeholder="votre@email.dz ou 2025001" required>
                    </div>

                    <div class="form-group">
                        <label for="login-password">Mot de passe</label>
                        <input type="password" id="login-password" class="form-control" placeholder="Votre mot de passe" required>
                    </div>

                    <div class="form-group">
                        <label for="login-role">Je suis</label>
                        <select id="login-role" class="form-control" required>
                            <option value="">S√©lectionnez votre r√¥le</option>
                            <option value="student">√âtudiant</option>
                            <option value="doctor">Docteur Encadrant</option>
                            <option value="hospital-admin">Administrateur H√¥pital</option>
                            <option value="doyen">Doyen</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-medical btn-block">Se connecter</button>

                    <div class="login-links">
                        <a href="#" onclick="showForgotPassword()">Mot de passe oubli√© ?</a>
                        <br>
                        <a href="#" onclick="showRegistration()">Cr√©er un compte √©tudiant</a>
                    </div>
                </form>
            </div>
        </div>

        <div class="login-right">
            <div class="login-features">
                <h2>Bienvenue sur la plateforme</h2>
                <p>Gestion centralis√©e des stages m√©dicaux pour la Wilaya de Boumerd√®s</p>
                
                <ul class="feature-list">
                    <li><i class="fas fa-check-circle"></i> Gestion simplifi√©e des stages</li>
                    <li><i class="fas fa-check-circle"></i> Candidatures en ligne</li>
                    <li><i class="fas fa-check-circle"></i> √âvaluations num√©riques</li>
                    <li><i class="fas fa-check-circle"></i> Planning interactif</li>
                    <li><i class="fas fa-check-circle"></i> Communication centralis√©e</li>
                    <li><i class="fas fa-check-circle"></i> Affectation automatique</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Main Application (initially hidden) -->
    <div id="main-app" style="display: none;">
        <!-- Header -->
        <header>
            <div class="container">
                <div class="header-top">
                    <div class="logo">
                        <i class="fas fa-stethoscope"></i>
                        <span>StagesM√©dicaux</span>
                    </div>
                    <div class="user-info">
                        <div class="user-role" id="current-role">√âtudiant</div>
                        <div style="position: relative;">
                            <button class="btn btn-outline" onclick="toggleNotifications()">
                                <i class="fas fa-bell"></i>
                                <span class="notification-badge">3</span>
                            </button>
                        </div>
                        <button class="btn btn-outline" onclick="showMessaging()">
                            <i class="fas fa-envelope"></i>
                        </button>
                        <div class="auth-buttons">
                            <button class="btn btn-medical" onclick="logout()">D√©connexion</button>
                        </div>
                    </div>
                </div>
            </div>
            <nav id="main-nav">
                <div class="container">
                    <ul class="nav-links" id="nav-links">
                        <!-- Navigation links will be populated based on role -->
                    </ul>
                </div>
            </nav>
        </header>

        <!-- Notifications Panel -->
        <div id="notifications-panel" class="card" style="display: none; position: fixed; top: 80px; right: 20px; width: 350px; z-index: 1000; max-height: 400px; overflow-y: auto;">
            <div class="modal-header">
                <h3>Notifications</h3>
                <button class="modal-close" onclick="toggleNotifications()">&times;</button>
            </div>
            <div class="notification-item unread">
                <strong>Nouvelle √©valuation disponible</strong>
                <p>Votre encadrant a compl√©t√© votre √©valuation pour le stage de Chirurgie</p>
                <small>Il y a 2 heures</small>
            </div>
            <div class="notification-item unread">
                <strong>Candidature accept√©e</strong>
                <p>Votre candidature pour le stage de P√©diatrie a √©t√© accept√©e</p>
                <small>Il y a 1 jour</small>
            </div>
            <div class="notification-item">
                <strong>Rappel d'√©valuation</strong>
                <p>N'oubliez pas de compl√©ter votre auto-√©valuation</p>
                <small>Il y a 3 jours</small>
            </div>
        </div>

        <!-- Messaging Panel -->
        <div id="messaging-panel" class="card" style="display: none; position: fixed; top: 80px; right: 20px; width: 500px; height: 500px; z-index: 1000;">
            <div class="modal-header">
                <h3>Messagerie</h3>
                <button class="modal-close" onclick="toggleMessaging()">&times;</button>
            </div>
            <div class="messaging-container">
                <div class="conversations-list">
                    <div class="conversation-item active">
                        <strong>Dr. Benali</strong>
                        <p>Service de Chirurgie</p>
                    </div>
                    <div class="conversation-item">
                        <strong>Admin H√¥pital</strong>
                        <p>CHU Boumerd√®s</p>
                    </div>
                    <div class="conversation-item">
                        <strong>Doyen Facult√©</strong>
                        <p>Facult√© de M√©decine</p>
                    </div>
                </div>
                <div class="chat-container">
                    <div class="chat-header">
                        <strong>Dr. Benali - Service de Chirurgie</strong>
                    </div>
                    <div class="chat-messages">
                        <div class="message received">
                            Bonjour, votre stage se d√©roule bien ?
                        </div>
                        <div class="message sent">
                            Oui, tr√®s bien merci Docteur
                        </div>
                        <div class="message received">
                            N'oubliez pas votre √©valuation pour vendredi
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" class="form-control" placeholder="Tapez votre message...">
                        <button class="btn btn-medical">Envoyer</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Role Selection Section -->
        <section id="role-selection" class="section active">
            <div class="container">
                <div class="role-selection">
                    <h1>Plateforme de Gestion des Stages M√©dicaux</h1>
                    <p>Wilaya de Boumerd√®s - Bienvenue, <span id="welcome-user">Utilisateur</span></p>
                    
                    <div class="role-cards">
                        <!-- √âtudiant -->
                        <div class="role-card" onclick="selectRole('student')">
                            <div class="role-icon">
                                <i class="fas fa-user-graduate"></i>
                            </div>
                            <h3>√âtudiant</h3>
                            <p>Recherche et gestion des stages, candidatures, suivi des √©valuations</p>
                        </div>

                        <!-- Docteur Encadrant -->
                        <div class="role-card" onclick="selectRole('doctor')">
                            <div class="role-icon">
                                <i class="fas fa-user-md"></i>
                            </div>
                            <h3>Docteur Encadrant</h3>
                            <p>Gestion des stagiaires, √©valuations, planning des activit√©s</p>
                        </div>

                        <!-- Administrateur H√¥pital -->
                        <div class="role-card" onclick="selectRole('hospital-admin')">
                            <div class="role-icon">
                                <i class="fas fa-hospital-alt"></i>
                            </div>
                            <h3>Admin H√¥pital</h3>
                            <p>Publication d'offres, gestion des candidatures, supervision des services</p>
                        </div>

                        <!-- Doyen -->
                        <div class="role-card" onclick="selectRole('doyen')">
                            <div class="role-icon">
                                <i class="fas fa-university"></i>
                            </div>
                            <h3>Doyen</h3>
                            <p>Supervision g√©n√©rale, validation, reporting et statistiques</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================= -->
        <!-- üë®‚Äçüéì √âTUDIANT SECTIONS -->
        <!-- ============================================= -->

        <!-- Tableau de Bord √âtudiant -->
        <section id="student-dashboard" class="section">
            <div class="container">
                <div class="quick-stats">
                    <div class="stat-card">
                        <i class="fas fa-briefcase-medical"></i>
                        <div class="number">12</div>
                        <div class="label">Offres disponibles</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-paper-plane"></i>
                        <div class="number">3</div>
                        <div class="label">Candidatures envoy√©es</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-calendar-check"></i>
                        <div class="number">1</div>
                        <div class="label">Stage en cours</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-chart-line"></i>
                        <div class="number">15.8</div>
                        <div class="label">Moyenne g√©n√©rale</div>
                    </div>
                </div>

                <div class="section-header">
                    <h2>Tableau de Bord √âtudiant</h2>
                </div>

                <div class="card">
                    <h3>Bienvenue, <span id="student-name">Nabil Terha</span> !</h3>
                    <p>Vous √™tes connect√© en tant qu'√©tudiant en m√©decine - 3√®me ann√©e</p>
                </div>

                <div class="card">
                    <h3>Prochaines √âch√©ances</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>√âch√©ance</th>
                                <th>Stage</th>
                                <th>Date limite</th>
                                <th>Statut</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Auto-√©valuation</td>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>15/11/2025</td>
                                <td><span class="status-badge status-pending">En attente</span></td>
                                <td><button class="btn btn-sm btn-medical" onclick="showModal('auto-evaluation')">Commencer</button></td>
                            </tr>
                            <tr>
                                <td>Rapport de stage</td>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>30/11/2025</td>
                                <td><span class="status-badge status-pending">En attente</span></td>
                                <td><button class="btn btn-sm btn-outline">T√©l√©charger</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>Mes Stages Actuels</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Stage</th>
                                <th>H√¥pital</th>
                                <th>P√©riode</th>
                                <th>Encadrant</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>CHU Boumerd√®s</td>
                                <td>01/09 - 30/09/2025</td>
                                <td>Dr. Benali</td>
                                <td><span class="status-badge status-completed">Termin√©</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Planning</button>
                                    <button class="btn btn-sm btn-outline">√âvaluation</button>
                                </td>
                            </tr>
                            <tr>
                                <td>P√©diatrie</td>
                                <td>H√¥pital M√®re-Enfant</td>
                                <td>01/12 - 15/01/2026</td>
                                <td>Dr. Sa√Ødi</td>
                                <td><span class="status-badge status-pending">√Ä venir</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline" disabled>Planning</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Offres de Stage √âtudiant -->
        <section id="student-offres" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Offres de Stage Disponibles</h2>
                </div>

                <div class="search-box">
                    <form class="search-form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Sp√©cialit√© (Chirurgie, P√©diatrie...)">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="H√¥pital ou lieu">
                        </div>
                        <button type="submit" class="btn btn-medical">
                            <i class="fas fa-search"></i> Rechercher
                        </button>
                    </form>
                </div>

                <div class="filters">
                    <div class="filter-row">
                        <div class="form-group">
                            <label>Sp√©cialit√©</label>
                            <select class="form-control">
                                <option>Toutes</option>
                                <option>Chirurgie</option>
                                <option>P√©diatrie</option>
                                <option>Cardiologie</option>
                                <option>M√©decine Interne</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Type de stage</label>
                            <select class="form-control">
                                <option>Tous</option>
                                <option>Stage clinique</option>
                                <option>Stage de sp√©cialit√©</option>
                                <option>Stage de recherche</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Dur√©e</label>
                            <select class="form-control">
                                <option>Toutes</option>
                                <option>1-2 semaines</option>
                                <option>1 mois</option>
                                <option>2-3 mois</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Stage</th>
                                <th>H√¥pital</th>
                                <th>Sp√©cialit√©</th>
                                <th>Dur√©e</th>
                                <th>Date d√©but</th>
                                <th>Places</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Stage Chirurgie G√©n√©rale</td>
                                <td>CHU Boumerd√®s</td>
                                <td>Chirurgie</td>
                                <td>4 semaines</td>
                                <td>01/12/2025</td>
                                <td>4/8</td>
                                <td>
                                    <button class="btn btn-sm btn-medical" onclick="showModal('candidature-stage')">Postuler</button>
                                    <button class="btn btn-sm btn-outline" onclick="showModal('details-offre')">D√©tails</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Stage P√©diatrie</td>
                                <td>H√¥pital M√®re-Enfant</td>
                                <td>P√©diatrie</td>
                                <td>6 semaines</td>
                                <td>15/12/2025</td>
                                <td>2/5</td>
                                <td>
                                    <button class="btn btn-sm btn-medical" onclick="showModal('candidature-stage')">Postuler</button>
                                    <button class="btn btn-sm btn-outline" onclick="showModal('details-offre')">D√©tails</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Stage Cardiologie</td>
                                <td>CHU Boumerd√®s</td>
                                <td>Cardiologie</td>
                                <td>8 semaines</td>
                                <td>01/01/2026</td>
                                <td>2/4</td>
                                <td>
                                    <button class="btn btn-sm btn-medical" onclick="showModal('candidature-stage')">Postuler</button>
                                    <button class="btn btn-sm btn-outline" onclick="showModal('details-offre')">D√©tails</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Mes Candidatures √âtudiant -->
        <section id="student-candidatures" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Mes Candidatures</h2>
                    <button class="btn btn-medical" onclick="showModal('candidature-stage')">
                        <i class="fas fa-plus"></i> Nouvelle Candidature
                    </button>
                </div>

                <div class="card">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Stage</th>
                                <th>H√¥pital</th>
                                <th>Date candidature</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>CHU Boumerd√®s</td>
                                <td>15/10/2025</td>
                                <td><span class="status-badge status-approved">Accept√©e</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Voir d√©tails</button>
                                    <button class="btn btn-sm btn-outline">T√©l√©charger</button>
                                </td>
                            </tr>
                            <tr>
                                <td>P√©diatrie</td>
                                <td>H√¥pital M√®re-Enfant</td>
                                <td>20/10/2025</td>
                                <td><span class="status-badge status-pending">En attente</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Voir d√©tails</button>
                                    <button class="btn btn-sm btn-danger">Annuler</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Cardiologie</td>
                                <td>CHU Boumerd√®s</td>
                                <td>05/10/2025</td>
                                <td><span class="status-badge status-rejected">Refus√©e</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Voir motif</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Mon Planning √âtudiant -->
        <section id="student-planning" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Mon Planning de Stage</h2>
                    <div>
                        <button class="btn btn-outline">
                            <i class="fas fa-download"></i> Exporter iCal
                        </button>
                        <button class="btn btn-medical">
                            <i class="fas fa-print"></i> Imprimer
                        </button>
                    </div>
                </div>

                <div class="calendar-container">
                    <div id="calendar-student"></div>
                </div>

                <div class="card">
                    <h3>Planning T√©l√©chargeable</h3>
                    <div class="document-card">
                        <div class="document-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h5>Planning_Stage_Chirurgie.pdf</h5>
                        <p>Planning d√©taill√© du stage de Chirurgie G√©n√©rale</p>
                        <div class="document-actions">
                            <button class="btn btn-sm btn-medical">
                                <i class="fas fa-download"></i> T√©l√©charger
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Mes √âvaluations √âtudiant -->
        <section id="student-evaluations" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Mes √âvaluations</h2>
                </div>

                <div class="card">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Stage</th>
                                <th>Encadrant</th>
                                <th>Date √©valuation</th>
                                <th>Note finale</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>Dr. Benali</td>
                                <td>15/10/2025</td>
                                <td><strong>16/20</strong></td>
                                <td><span class="status-badge status-completed">Termin√©e</span></td>
                                <td>
                                    <button class="btn btn-sm btn-medical" onclick="showModal('rapport-evaluation')">Voir rapport</button>
                                    <button class="btn btn-sm btn-outline">T√©l√©charger PDF</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Auto-√©valuation Chirurgie</td>
                                <td>-</td>
                                <td>10/10/2025</td>
                                <td><strong>-</strong></td>
                                <td><span class="status-badge status-pending">En attente</span></td>
                                <td>
                                    <button class="btn btn-sm btn-warning" onclick="showModal('auto-evaluation')">Compl√©ter</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Mon Profil √âtudiant -->
        <section id="student-profil" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Mon Profil √âtudiant</h2>
                    <button class="btn btn-medical" onclick="showModal('edit-profile')">
                        <i class="fas fa-edit"></i> Modifier le profil
                    </button>
                </div>

                <div class="profile-container">
                    <!-- Sidebar Navigation -->
                    <div class="profile-sidebar">
                        <div class="profile-avatar">
                            <div class="avatar">
                                <i class="fas fa-user-graduate"></i>
                            </div>
                            <h3>Nabil Terha</h3>
                            <p>√âtudiant en M√©decine</p>
                            <div class="status-badge status-approved">Profil valid√©</div>
                        </div>
                        
                        <ul class="profile-nav">
                            <li><a href="#" class="active" onclick="showProfileTab('informations')">Informations personnelles</a></li>
                            <li><a href="#" onclick="showProfileTab('documents')">Documents et CV</a></li>
                            <li><a href="#" onclick="showProfileTab('historique')">Historique acad√©mique</a></li>
                            <li><a href="#" onclick="showProfileTab('preferences')">Pr√©f√©rences</a></li>
                            <li><a href="#" onclick="showProfileTab('securite')">S√©curit√© du compte</a></li>
                        </ul>
                    </div>

                    <!-- Profile Content -->
                    <div class="profile-content">
                        <!-- Informations Personnelles Tab -->
                        <div id="tab-informations" class="profile-tab active">
                            <h3>Informations Personnelles</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <div class="info-label">Nom complet</div>
                                    <div class="info-value">Terha Nabil</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Num√©ro √©tudiant</div>
                                    <div class="info-value">2025001</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Date de naissance</div>
                                    <div class="info-value">15/03/2000</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Lieu de naissance</div>
                                    <div class="info-value">Boumerd√®s, Alg√©rie</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Adresse email</div>
                                    <div class="info-value">n.terha@etudiant.dz</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">T√©l√©phone</div>
                                    <div class="info-value">+213 123 45 67 89</div>
                                </div>
                            </div>

                            <h3 style="margin-top: 30px;">Informations Acad√©miques</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <div class="info-label">Facult√©</div>
                                    <div class="info-value">Facult√© de M√©decine - Universit√© de Boumerd√®s</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Ann√©e d'√©tude</div>
                                    <div class="info-value">3√®me ann√©e</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Sp√©cialit√©</div>
                                    <div class="info-value">M√©decine G√©n√©rale</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Moyenne g√©n√©rale</div>
                                    <div class="info-value">15.8/20</div>
                                </div>
                            </div>
                        </div>

                        <!-- Documents et CV Tab -->
                        <div id="tab-documents" class="profile-tab">
                            <h3>Documents et Pi√®ces Justificatives</h3>
                            <p class="info-label">G√©rez vos documents personnels et votre CV pour vos candidatures de stage</p>

                            <!-- Upload Area -->
                            <div class="upload-area" onclick="document.getElementById('file-upload').click()">
                                <div class="upload-icon">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                <h4>D√©poser des fichiers</h4>
                                <p>Glissez-d√©posez vos fichiers ici ou cliquez pour parcourir</p>
                                <small>Formats accept√©s: PDF, DOC, DOCX, JPG, PNG (Max: 10MB)</small>
                                <input type="file" id="file-upload" multiple style="display: none;" onchange="handleFileUpload(this.files)">
                            </div>

                            <!-- Documents List -->
                            <h4 style="margin-top: 30px;">Mes Documents</h4>
                            <div class="documents-grid">
                                <!-- CV Document -->
                                <div class="document-card">
                                    <div class="document-icon">
                                        <i class="fas fa-file-pdf"></i>
                                    </div>
                                    <h5>CV_Nabil_Terha.pdf</h5>
                                    <p>Curriculum Vitae</p>
                                    <div class="status-badge status-approved">Valid√©</div>
                                    <div class="document-actions">
                                        <button class="btn btn-sm btn-outline">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline">
                                            <i class="fas fa-download"></i>
                                        </button>
                                        <button class="btn btn-sm btn-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Lettre de Motivation -->
                                <div class="document-card">
                                    <div class="document-icon">
                                        <i class="fas fa-file-word"></i>
                                    </div>
                                    <h5>Lettre_Motivation.docx</h5>
                                    <p>Lettre de motivation type</p>
                                    <div class="status-badge status-approved">Valid√©</div>
                                    <div class="document-actions">
                                        <button class="btn btn-sm btn-outline">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline">
                                            <i class="fas fa-download"></i>
                                        </button>
                                        <button class="btn btn-sm btn-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Carte √âtudiante -->
                                <div class="document-card">
                                    <div class="document-icon">
                                        <i class="fas fa-id-card"></i>
                                    </div>
                                    <h5>Carte_Etudiante.jpg</h5>
                                    <p>Carte d'√©tudiant</p>
                                    <div class="status-badge status-approved">Valid√©</div>
                                    <div class="document-actions">
                                        <button class="btn btn-sm btn-outline">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline">
                                            <i class="fas fa-download"></i>
                                        </button>
                                        <button class="btn btn-sm btn-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Historique Acad√©mique Tab -->
                        <div id="tab-historique" class="profile-tab">
                            <h3>Historique Acad√©mique</h3>
                            
                            <div class="card">
                                <h4>Stages Valid√©s</h4>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Stage</th>
                                            <th>H√¥pital</th>
                                            <th>P√©riode</th>
                                            <th>Note</th>
                                            <th>√âvaluation</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Chirurgie G√©n√©rale</td>
                                            <td>CHU Boumerd√®s</td>
                                            <td>01/09 - 30/09/2025</td>
                                            <td>16/20</td>
                                            <td><button class="btn btn-sm btn-outline">Voir</button></td>
                                        </tr>
                                        <tr>
                                            <td>M√©decine Interne</td>
                                            <td>CHU Boumerd√®s</td>
                                            <td>01/07 - 30/07/2025</td>
                                            <td>15/20</td>
                                            <td><button class="btn btn-sm btn-outline">Voir</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- S√©curit√© du Compte Tab -->
                        <div id="tab-securite" class="profile-tab">
                            <h3>S√©curit√© du Compte</h3>
                            
                            <div class="card">
                                <h4>Changer le mot de passe</h4>
                                <div class="form-group">
                                    <label>Mot de passe actuel</label>
                                    <input type="password" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label>Nouveau mot de passe</label>
                                    <input type="password" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label>Confirmer le nouveau mot de passe</label>
                                    <input type="password" class="form-control">
                                </div>
                                <button class="btn btn-medical">Mettre √† jour le mot de passe</button>
                            </div>

                            <div class="card">
                                <h4>Journal de Connexion</h4>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Heure</th>
                                            <th>Adresse IP</th>
                                            <th>Statut</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>15/10/2025</td>
                                            <td>14:30</td>
                                            <td>192.168.1.1</td>
                                            <td><span class="status-badge status-approved">R√©ussie</span></td>
                                        </tr>
                                        <tr>
                                            <td>14/10/2025</td>
                                            <td>09:15</td>
                                            <td>192.168.1.1</td>
                                            <td><span class="status-badge status-approved">R√©ussie</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================= -->
        <!-- üë®‚Äç‚öïÔ∏è DOCTEUR ENCADRANT SECTIONS -->
        <!-- ============================================= -->

        <!-- Tableau de Bord Docteur -->
        <section id="doctor-dashboard" class="section">
            <div class="container">
                <div class="quick-stats">
                    <div class="stat-card">
                        <i class="fas fa-user-graduate"></i>
                        <div class="number">4</div>
                        <div class="label">Stagiaires encadr√©s</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-clipboard-check"></i>
                        <div class="number">2</div>
                        <div class="label">√âvaluations en attente</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-calendar-alt"></i>
                        <div class="number">8</div>
                        <div class="label">Heures cette semaine</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-chart-line"></i>
                        <div class="number">4.2</div>
                        <div class="label">Moyenne satisfaction</div>
                    </div>
                </div>

                <div class="section-header">
                    <h2>Tableau de Bord Docteur</h2>
                </div>

                <div class="card">
                    <h3>Bienvenue, <span id="doctor-name">Dr. Ahmed Benali</span> !</h3>
                    <p>Vous √™tes connect√© en tant que docteur encadrant - Service de Chirurgie</p>
                </div>

                <div class="card">
                    <h3>Stagiaires Actuels</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>√âtudiant</th>
                                <th>Stage</th>
                                <th>D√©but</th>
                                <th>Fin</th>
                                <th>Prochaine √©valuation</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Nabil Terha</td>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>01/09/2025</td>
                                <td>30/09/2025</td>
                                <td>15/10/2025</td>
                                <td><button class="btn btn-sm btn-medical" onclick="showModal('evaluation-form')">√âvaluer</button></td>
                            </tr>
                            <tr>
                                <td>Faical Lehanine</td>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>01/10/2025</td>
                                <td>30/10/2025</td>
                                <td>15/11/2025</td>
                                <td><button class="btn btn-sm btn-outline" disabled>√âvaluer</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Mes Stagiaires Docteur -->
        <section id="doctor-stagiaires" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Mes Stagiaires</h2>
                </div>

                <div class="card">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>√âtudiant</th>
                                <th>Stage</th>
                                <th>P√©riode</th>
                                <th>Statut</th>
                                <th>Derni√®re √©valuation</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Nabil Terha</td>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>01/09 - 30/09/2025</td>
                                <td><span class="status-badge status-completed">Termin√©</span></td>
                                <td>16/20</td>
                                <td>
                                    <button class="btn btn-sm btn-medical" onclick="showModal('evaluation-form')">R√©√©valuer</button>
                                    <button class="btn btn-sm btn-outline">Profil</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Faical Lehanine</td>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>01/10 - 30/10/2025</td>
                                <td><span class="status-badge status-inprogress">En cours</span></td>
                                <td>-</td>
                                <td>
                                    <button class="btn btn-sm btn-medical" onclick="showModal('evaluation-form')">√âvaluer</button>
                                    <button class="btn btn-sm btn-outline">Profil</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- √âvaluations Docteur -->
        <section id="doctor-evaluations" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>√âvaluations des Stagiaires</h2>
                </div>

                <div class="evaluation-form">
                    <h3>Formulaire d'√âvaluation</h3>
                    <div class="form-group">
                        <label for="evaluation-student">S√©lectionner un stagiaire:</label>
                        <select id="evaluation-student" class="form-control">
                            <option>Nabil Terha - Chirurgie G√©n√©rale</option>
                            <option>Faical Lehanine - Chirurgie G√©n√©rale</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Comp√©tences techniques:</label>
                        <input type="range" min="0" max="20" value="16" class="rating-slider" onchange="updateRatingValue(this, 'tech-value')">
                        <div class="rating-value" id="tech-value">16/20</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Assiduit√© et ponctualit√©:</label>
                        <input type="range" min="0" max="20" value="18" class="rating-slider" onchange="updateRatingValue(this, 'assiduite-value')">
                        <div class="rating-value" id="assiduite-value">18/20</div>
                    </div>

                    <div class="form-group">
                        <label>Relation avec l'√©quipe:</label>
                        <input type="range" min="0" max="20" value="17" class="rating-slider" onchange="updateRatingValue(this, 'relation-value')">
                        <div class="rating-value" id="relation-value">17/20</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Commentaires:</label>
                        <textarea class="form-control" rows="4" placeholder="Commentaires sur le stage..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Signature √©lectronique:</label>
                        <div style="border: 1px solid var(--border); padding: 20px; text-align: center; border-radius: 4px;">
                            <p>Zone de signature</p>
                            <button class="btn btn-outline">
                                <i class="fas fa-signature"></i> Signer l'√©valuation
                            </button>
                        </div>
                    </div>
                    
                    <button class="btn btn-medical">G√©n√©rer le rapport PDF</button>
                </div>

                <div class="card">
                    <h3>Historique des √âvaluations</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>√âtudiant</th>
                                <th>Stage</th>
                                <th>Date</th>
                                <th>Note finale</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Nabil Terha</td>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>15/10/2025</td>
                                <td>16/20</td>
                                <td><span class="status-badge status-completed">Sign√©e</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Voir</button>
                                    <button class="btn btn-sm btn-outline">Modifier</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Planning Docteur -->
        <section id="doctor-planning" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Planning des Activit√©s</h2>
                    <button class="btn btn-medical" onclick="showModal('disponibilites')">
                        <i class="fas fa-plus"></i> G√©rer mes disponibilit√©s
                    </button>
                </div>

                <div class="calendar-container">
                    <div id="calendar-doctor"></div>
                </div>

                <div class="card">
                    <h3>Mes Disponibilit√©s D√©clar√©es</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div>
                            <h4>Cr√©neaux Disponibles</h4>
                            <ul style="list-style: none;">
                                <li>Lundi: 08h-12h</li>
                                <li>Mardi: 14h-18h</li>
                                <li>Jeudi: 08h-12h</li>
                            </ul>
                        </div>
                        <div>
                            <h4>Prochaines R√©unions</h4>
                            <ul style="list-style: none;">
                                <li>R√©union √©quipe: 15/11 - 08h</li>
                                <li>√âvaluation Nabil: 20/11 - 10h</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================= -->
        <!-- üè• ADMINISTRATEUR H√îPITAL SECTIONS -->
        <!-- ============================================= -->

        <!-- Tableau de Bord Admin H√¥pital -->
        <section id="hospital-admin-dashboard" class="section">
            <div class="container">
                <div class="quick-stats">
                    <div class="stat-card">
                        <i class="fas fa-briefcase-medical"></i>
                        <div class="number">8</div>
                        <div class="label">Offres publi√©es</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-paper-plane"></i>
                        <div class="number">24</div>
                        <div class="label">Candidatures re√ßues</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-user-graduate"></i>
                        <div class="number">12</div>
                        <div class="label">Stagiaires actuels</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-chart-pie"></i>
                        <div class="number">65%</div>
                        <div class="label">Taux d'occupation</div>
                    </div>
                </div>

                <div class="section-header">
                    <h2>Tableau de Bord H√¥pital</h2>
                </div>

                <div class="card">
                    <h3>Bienvenue, <span id="hospital-admin-name">Admin CHU Boumerd√®s</span> !</h3>
                    <p>Vous √™tes connect√© en tant qu'administrateur hospitalier</p>
                </div>

                <div class="card">
                    <h3>Alertes et Actions Requises</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Service</th>
                                <th>Date</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Candidature</td>
                                <td>5 nouvelles candidatures en attente</td>
                                <td>Chirurgie</td>
                                <td>Aujourd'hui</td>
                                <td><button class="btn btn-sm btn-medical" onclick="showSection('hospital-admin-candidatures')">Traiter</button></td>
                            </tr>
                            <tr>
                                <td>√âvaluation</td>
                                <td>√âvaluations manquantes pour 2 stagiaires</td>
                                <td>P√©diatrie</td>
                                <td>Hier</td>
                                <td><button class="btn btn-sm btn-warning">Rappeler</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Gestion des Services Admin H√¥pital -->
        <section id="hospital-admin-services" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Gestion des Services Hospitaliers</h2>
                    <button class="btn btn-medical" onclick="showModal('nouveau-service')">
                        <i class="fas fa-plus"></i> Nouveau Service
                    </button>
                </div>

                <div class="card">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Service</th>
                                <th>Chef de service</th>
                                <th>Capacit√© d'accueil</th>
                                <th>Stagiaires actuels</th>
                                <th>Taux d'occupation</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Chirurgie G√©n√©rale</td>
                                <td>Dr. Benali</td>
                                <td>8</td>
                                <td>6</td>
                                <td>75%</td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Modifier</button>
                                    <button class="btn btn-sm btn-outline">Quotas</button>
                                </td>
                            </tr>
                            <tr>
                                <td>P√©diatrie</td>
                                <td>Dr. Sa√Ødi</td>
                                <td>5</td>
                                <td>3</td>
                                <td>60%</td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Modifier</button>
                                    <button class="btn btn-sm btn-outline">Quotas</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Cardiologie</td>
                                <td>Pr. Hamoud</td>
                                <td>4</td>
                                <td>2</td>
                                <td>50%</td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Modifier</button>
                                    <button class="btn btn-sm btn-outline">Quotas</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Offres de Stage Admin H√¥pital -->
        <section id="hospital-admin-offres" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Gestion des Offres de Stage</h2>
                    <div>
                        <button class="btn btn-outline" onclick="showModal('import-offres')">
                            <i class="fas fa-file-import"></i> Importer
                        </button>
                        <button class="btn btn-outline" onclick="exportOffres()">
                            <i class="fas fa-file-export"></i> Exporter
                        </button>
                        <button class="btn btn-medical" onclick="showModal('nouvelle-offre')">
                            <i class="fas fa-plus"></i> Nouvelle Offre
                        </button>
                    </div>
                </div>

                <div class="card">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Titre</th>
                                <th>Service</th>
                                <th>Places</th>
                                <th>Candidatures</th>
                                <th>Statut</th>
                                <th>Date publication</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Stage Chirurgie G√©n√©rale</td>
                                <td>Chirurgie</td>
                                <td>4/8</td>
                                <td>12</td>
                                <td><span class="status-badge status-approved">Publi√©e</span></td>
                                <td>01/09/2025</td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Modifier</button>
                                    <button class="btn btn-sm btn-outline">Candidatures</button>
                                    <button class="btn btn-sm btn-danger">Archiver</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Stage P√©diatrie</td>
                                <td>P√©diatrie</td>
                                <td>3/5</td>
                                <td>8</td>
                                <td><span class="status-badge status-draft">Brouillon</span></td>
                                <td>-</td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Modifier</button>
                                    <button class="btn btn-sm btn-medical">Publier</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Stage Cardiologie</td>
                                <td>Cardiologie</td>
                                <td>2/4</td>
                                <td>5</td>
                                <td><span class="status-badge status-pending">En attente</span></td>
                                <td>20/10/2025</td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Modifier</button>
                                    <button class="btn btn-sm btn-outline">Suivi</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Candidatures Admin H√¥pital -->
        <section id="hospital-admin-candidatures" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Gestion des Candidatures</h2>
                </div>

                <div class="filters">
                    <div class="filter-row">
                        <div class="form-group">
                            <label>Service</label>
                            <select class="form-control">
                                <option>Tous les services</option>
                                <option>Chirurgie</option>
                                <option>P√©diatrie</option>
                                <option>Cardiologie</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Statut</label>
                            <select class="form-control">
                                <option>Tous les statuts</option>
                                <option>En attente</option>
                                <option>Accept√©e</option>
                                <option>Refus√©e</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Date</label>
                            <input type="date" class="form-control">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>√âtudiant</th>
                                <th>Offre</th>
                                <th>Service</th>
                                <th>Date</th>
                                <th>Statut</th>
                                <th>Avis</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Ali Matari</td>
                                <td>Stage Chirurgie</td>
                                <td>Chirurgie</td>
                                <td>18/10/2025</td>
                                <td><span class="status-badge status-pending">En attente</span></td>
                                <td>-</td>
                                <td>
                                    <button class="btn btn-sm btn-success" onclick="donnerAvis('favorable')">Avis favorable</button>
                                    <button class="btn btn-sm btn-danger" onclick="donnerAvis('defavorable')">Avis d√©favorable</button>
                                    <button class="btn btn-sm btn-outline">Voir CV</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Zakaria Beggar</td>
                                <td>Stage P√©diatrie</td>
                                <td>P√©diatrie</td>
                                <td>20/10/2025</td>
                                <td><span class="status-badge status-pending">En attente</span></td>
                                <td>-</td>
                                <td>
                                    <button class="btn btn-sm btn-success" onclick="donnerAvis('favorable')">Avis favorable</button>
                                    <button class="btn btn-sm btn-danger" onclick="donnerAvis('defavorable')">Avis d√©favorable</button>
                                    <button class="btn btn-sm btn-outline">Voir CV</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Planning Admin H√¥pital -->
        <section id="hospital-admin-planning" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Planning Hospitalier</h2>
                    <button class="btn btn-medical" onclick="showModal('gerer-creneaux')">
                        <i class="fas fa-calendar-plus"></i> G√©rer les cr√©neaux
                    </button>
                </div>

                <div class="calendar-container">
                    <div id="calendar-hospital"></div>
                </div>

                <div class="card">
                    <h3>Cr√©neaux Disponibles par Service</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Service</th>
                                <th>Cr√©neaux/semaine</th>
                                <th>Stagiaires max</th>
                                <th>Encadrants disponibles</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Chirurgie</td>
                                <td>20</td>
                                <td>8</td>
                                <td>3</td>
                                <td><button class="btn btn-sm btn-outline">Configurer</button></td>
                            </tr>
                            <tr>
                                <td>P√©diatrie</td>
                                <td>15</td>
                                <td>5</td>
                                <td>2</td>
                                <td><button class="btn btn-sm btn-outline">Configurer</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ============================================= -->
        <!-- üè´ DOYEN SECTIONS -->
        <!-- ============================================= -->

        <!-- Tableau de Bord Doyen -->
        <section id="doyen-dashboard" class="section">
            <div class="container">
                <div class="quick-stats">
                    <div class="stat-card">
                        <i class="fas fa-user-graduate"></i>
                        <div class="number">425</div>
                        <div class="label">√âtudiants inscrits</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-hospital"></i>
                        <div class="number">18</div>
                        <div class="label">H√¥pitaux partenaires</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-briefcase-medical"></i>
                        <div class="number">127</div>
                        <div class="label">Offres actives</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-chart-line"></i>
                        <div class="number">89%</div>
                        <div class="label">Taux d'affectation</div>
                    </div>
                </div>

                <div class="section-header">
                    <h2>Tableau de Bord Doyen</h2>
                </div>

                <div class="card">
                    <h3>Bienvenue, <span id="doyen-name">Doyen Facult√© M√©decine</span> !</h3>
                    <p>Vous √™tes connect√© en tant que Doyen de la Facult√© de M√©decine</p>
                </div>

                <div class="card">
                    <h3>Alertes Globales</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Priorit√©</th>
                                <th>Description</th>
                                <th>H√¥pital</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span style="color: var(--danger);">Haute</span></td>
                                <td>5 offres en attente de validation depuis +7 jours</td>
                                <td>CHU Boumerd√®s</td>
                                <td><button class="btn btn-sm btn-medical" onclick="showSection('doyen-validation')">Valider</button></td>
                            </tr>
                            <tr>
                                <td><span style="color: var(--warning);">Moyenne</span></td>
                                <td>Rapport trimestriel √† compl√©ter</td>
                                <td>Tous</td>
                                <td><button class="btn btn-sm btn-warning">Compl√©ter</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>Actions Rapides</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <button class="btn btn-medical" onclick="showModal('lancer-affectation')">
                            <i class="fas fa-cogs"></i> Lancer l'affectation
                        </button>
                        <button class="btn btn-info" onclick="showModal('envoyer-notification')">
                            <i class="fas fa-bullhorn"></i> Notification globale
                        </button>
                        <button class="btn btn-success" onclick="showModal('generer-rapport')">
                            <i class="fas fa-chart-bar"></i> Rapport statistique
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Validation des Offres Doyen -->
        <section id="doyen-validation" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Validation des Offres de Stage</h2>
                </div>

                <div class="card">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Offre</th>
                                <th>H√¥pital</th>
                                <th>Service</th>
                                <th>Places</th>
                                <th>Date soumission</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Stage Cardiologie</td>
                                <td>CHU Boumerd√®s</td>
                                <td>Cardiologie</td>
                                <td>2</td>
                                <td>20/10/2025</td>
                                <td><span class="status-badge status-pending">√Ä valider</span></td>
                                <td>
                                    <button class="btn btn-sm btn-success" onclick="validerOffre()">Valider</button>
                                    <button class="btn btn-sm btn-outline" onclick="showModal('modifier-offre')">Modifier</button>
                                    <button class="btn btn-sm btn-danger" onclick="refuserOffre()">Refuser</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Stage Neurologie</td>
                                <td>H√¥pital Sp√©cialis√©</td>
                                <td>Neurologie</td>
                                <td>3</td>
                                <td>18/10/2025</td>
                                <td><span class="status-badge status-pending">√Ä valider</span></td>
                                <td>
                                    <button class="btn btn-sm btn-success" onclick="validerOffre()">Valider</button>
                                    <button class="btn btn-sm btn-outline" onclick="showModal('modifier-offre')">Modifier</button>
                                    <button class="btn btn-sm btn-danger" onclick="refuserOffre()">Refuser</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Gestion des Utilisateurs Doyen -->
        <section id="doyen-utilisateurs" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Gestion des Utilisateurs</h2>
                    <button class="btn btn-medical" onclick="showModal('nouvel-utilisateur')">
                        <i class="fas fa-plus"></i> Nouvel Utilisateur
                    </button>
                </div>

                <div class="filters">
                    <div class="filter-row">
                        <div class="form-group">
                            <label>Type d'utilisateur</label>
                            <select class="form-control">
                                <option>Tous les utilisateurs</option>
                                <option>√âtudiants</option>
                                <option>Docteurs</option>
                                <option>Administrateurs</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Statut</label>
                            <select class="form-control">
                                <option>Tous les statuts</option>
                                <option>Actif</option>
                                <option>Inactif</option>
                                <option>En attente</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Recherche</label>
                            <input type="text" class="form-control" placeholder="Nom, pr√©nom ou email">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Utilisateur</th>
                                <th>Email</th>
                                <th>R√¥le</th>
                                <th>Date inscription</th>
                                <th>Derni√®re connexion</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Terha Nabil</td>
                                <td>n.terha@etudiant.dz</td>
                                <td>√âtudiant</td>
                                <td>01/09/2023</td>
                                <td>15/10/2025</td>
                                <td><span class="status-badge status-approved">Actif</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Profil</button>
                                    <button class="btn btn-sm btn-outline">Modifier</button>
                                    <button class="btn btn-sm btn-danger">D√©sactiver</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Dr. Benali</td>
                                <td>a.benali@hopital.dz</td>
                                <td>Docteur</td>
                                <td>15/08/2023</td>
                                <td>14/10/2025</td>
                                <td><span class="status-badge status-approved">Actif</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline">Profil</button>
                                    <button class="btn btn-sm btn-outline">Modifier</button>
                                    <button class="btn btn-sm btn-danger">D√©sactiver</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>Journal d'Activit√© Administrative</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Utilisateur</th>
                                <th>Action</th>
                                <th>D√©tails</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>15/10/2025 14:30</td>
                                <td>Doyen</td>
                                <td>Validation d'offre</td>
                                <td>Stage Cardiologie - CHU Boumerd√®s</td>
                            </tr>
                            <tr>
                                <td>15/10/2025 10:15</td>
                                <td>Doyen</td>
                                <td>Activation utilisateur</td>
                                <td>√âtudiant: Terha Nabil</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Affectation Doyen -->
        <section id="doyen-affectation" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Gestion des Affectations</h2>
                    <button class="btn btn-medical" onclick="showModal('lancer-affectation')">
                        <i class="fas fa-cogs"></i> Lancer l'affectation automatique
                    </button>
                </div>

                <div class="affectation-rules">
                    <h3>Configuration des R√®gles d'Affectation</h3>
                    <div class="rule-group">
                        <div class="rule-checkbox">
                            <input type="checkbox" id="rule-priorite-annee" checked>
                            <label for="rule-priorite-annee">Priorit√© par ann√©e d'√©tude</label>
                        </div>
                        <div class="rule-parameters">
                            <div class="form-group">
                                <label>Pond√©ration:</label>
                                <input type="range" min="1" max="10" value="8" class="rating-slider">
                            </div>
                        </div>
                    </div>

                    <div class="rule-group">
                        <div class="rule-checkbox">
                            <input type="checkbox" id="rule-pref-etudiantes" checked>
                            <label for="rule-pref-etudiantes">Respect des pr√©f√©rences √©tudiantes</label>
                        </div>
                        <div class="rule-parameters">
                            <div class="form-group">
                                <label>Pond√©ration:</label>
                                <input type="range" min="1" max="10" value="7" class="rating-slider">
                            </div>
                        </div>
                    </div>

                    <div class="rule-group">
                        <div class="rule-checkbox">
                            <input type="checkbox" id="rule-quotas" checked>
                            <label for="rule-quotas">Quotas par h√¥pital et service</label>
                        </div>
                    </div>

                    <div class="rule-group">
                        <div class="rule-checkbox">
                            <input type="checkbox" id="rule-contraintes" checked>
                            <label for="rule-contraintes">Contraintes de disponibilit√©</label>
                        </div>
                    </div>

                    <div class="rule-group">
                        <div class="rule-checkbox">
                            <input type="checkbox" id="rule-anti-conflits" checked>
                            <label for="rule-anti-conflits">√âviter les conflits d'emploi du temps</label>
                        </div>
                    </div>

                    <button class="btn btn-medical" onclick="executerAffectation()">Ex√©cuter l'affectation automatique</button>
                </div>

                <div class="affectation-results">
                    <h3>R√©sultats de l'Affectation</h3>
                    <div class="result-item">
                        <div>
                            <strong>Nabil Terha</strong>
                            <p>Stage Chirurgie - CHU Boumerd√®s</p>
                        </div>
                        <div>
                            <span class="status-badge status-approved">Affect√©</span>
                            <button class="btn btn-sm btn-outline">Modifier</button>
                        </div>
                    </div>
                    <div class="result-item">
                        <div>
                            <strong>Faical Lehanine</strong>
                            <p>Stage P√©diatrie - H√¥pital M√®re-Enfant</p>
                        </div>
                        <div>
                            <span class="status-badge status-pending">En attente</span>
                            <button class="btn btn-sm btn-warning">Drag & Drop</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reporting Doyen -->
        <section id="doyen-reporting" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Reporting et Statistiques</h2>
                    <div>
                        <button class="btn btn-outline" onclick="exporterCSV()">
                            <i class="fas fa-file-csv"></i> Exporter CSV
                        </button>
                        <button class="btn btn-medical" onclick="exporterPDF()">
                            <i class="fas fa-file-pdf"></i> Exporter PDF
                        </button>
                    </div>
                </div>

                <div class="card">
                    <h3>Indicateurs Cl√©s de Performance (KPI)</h3>
                    <div class="quick-stats">
                        <div class="stat-card">
                            <i class="fas fa-chart-line"></i>
                            <div class="number">89%</div>
                            <div class="label">Taux d'affectation</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-smile"></i>
                            <div class="number">87%</div>
                            <div class="label">Satisfaction √©tudiants</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-user-md"></i>
                            <div class="number">92%</div>
                            <div class="label">Satisfaction docteurs</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-clock"></i>
                            <div class="number">7j</div>
                            <div class="label">D√©lai moyen d'affectation</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>R√©partition par Sp√©cialit√©</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Sp√©cialit√©</th>
                                <th>√âtudiants</th>
                                <th>Offres actives</th>
                                <th>Taux d'occupation</th>
                                <th>Satisfaction moyenne</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Chirurgie</td>
                                <td>85</td>
                                <td>12</td>
                                <td>75%</td>
                                <td>4.2/5</td>
                            </tr>
                            <tr>
                                <td>M√©decine Interne</td>
                                <td>120</td>
                                <td>18</td>
                                <td>82%</td>
                                <td>4.0/5</td>
                            </tr>
                            <tr>
                                <td>P√©diatrie</td>
                                <td>65</td>
                                <td>8</td>
                                <td>68%</td>
                                <td>4.3/5</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- MODALS -->
        <!-- Modal for new application -->
        <div id="modal-candidature-stage" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Nouvelle Candidature</h3>
                    <button class="modal-close" onclick="closeModal('modal-candidature-stage')">&times;</button>
                </div>
                <div class="form-group">
                    <label>S√©lectionner une offre:</label>
                    <select class="form-control">
                        <option>Stage Chirurgie G√©n√©rale - CHU Boumerd√®s</option>
                        <option>Stage P√©diatrie - H√¥pital M√®re-Enfant</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Lettre de motivation:</label>
                    <textarea class="form-control" rows="4" placeholder="R√©digez votre lettre de motivation..."></textarea>
                </div>
                <div class="form-group">
                    <label>CV (PDF):</label>
                    <input type="file" class="form-control" accept=".pdf">
                </div>
                <div class="form-group">
                    <label>Disponibilit√©s:</label>
                    <input type="text" class="form-control" placeholder="Indiquez vos contraintes de disponibilit√©">
                </div>
                <button class="btn btn-medical btn-block">Soumettre la candidature</button>
            </div>
        </div>

        <!-- Modal for evaluation form -->
        <div id="modal-evaluation-form" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>√âvaluation du Stagiaire</h3>
                    <button class="modal-close" onclick="closeModal('modal-evaluation-form')">&times;</button>
                </div>
                <div class="evaluation-form">
                    <div class="form-group">
                        <label>Stagiaire: <strong>Nabil Terha</strong></label>
                    </div>
                    <div class="form-group">
                        <label>Stage: <strong>Chirurgie G√©n√©rale - CHU Boumerd√®s</strong></label>
                    </div>
                    
                    <div class="form-group">
                        <label>Comp√©tences techniques:</label>
                        <input type="range" min="0" max="20" value="16" class="rating-slider">
                        <div class="rating-value">16/20</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Assiduit√© et ponctualit√©:</label>
                        <input type="range" min="0" max="20" value="18" class="rating-slider">
                        <div class="rating-value">18/20</div>
                    </div>

                    <div class="form-group">
                        <label>Relation avec l'√©quipe:</label>
                        <input type="range" min="0" max="20" value="17" class="rating-slider">
                        <div class="rating-value">17/20</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Commentaires:</label>
                        <textarea class="form-control" rows="4" placeholder="Commentaires sur le stage..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Pi√®ces jointes:</label>
                        <input type="file" class="form-control" multiple>
                    </div>

                    <div class="form-group">
                        <label>Signature √©lectronique:</label>
                        <div style="border: 1px solid var(--border); padding: 20px; text-align: center; border-radius: 4px;">
                            <p>Dr. Benali</p>
                            <button class="btn btn-outline">
                                <i class="fas fa-signature"></i> Confirmer la signature
                            </button>
                        </div>
                    </div>
                    
                    <button class="btn btn-medical btn-block">G√©n√©rer le rapport PDF</button>
                </div>
            </div>
        </div>

        <!-- Modal for auto-evaluation -->
        <div id="modal-auto-evaluation" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Auto-√©valuation</h3>
                    <button class="modal-close" onclick="closeModal('modal-auto-evaluation')">&times;</button>
                </div>
                <div class="evaluation-form">
                    <div class="form-group">
                        <label>Stage: <strong>Chirurgie G√©n√©rale - CHU Boumerd√®s</strong></label>
                    </div>
                    
                    <div class="form-group">
                        <label>Acquisition de comp√©tences:</label>
                        <textarea class="form-control" rows="3" placeholder="D√©crivez les comp√©tences acquises..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Points forts:</label>
                        <textarea class="form-control" rows="3" placeholder="Quels sont vos points forts durant ce stage?"></textarea>
                    </div>

                    <div class="form-group">
                        <label>Points √† am√©liorer:</label>
                        <textarea class="form-control" rows="3" placeholder="Quels points souhaitez-vous am√©liorer?"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Appr√©ciation globale:</label>
                        <select class="form-control">
                            <option>Tr√®s satisfaisant</option>
                            <option>Satisfaisant</option>
                            <option>Assez satisfaisant</option>
                            <option>Peu satisfaisant</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-medical btn-block">Soumettre l'auto-√©valuation</button>
                </div>
            </div>
        </div>

        <!-- Modal for affectation automatique -->
        <div id="modal-lancer-affectation" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Lancer l'Affectation Automatique</h3>
                    <button class="modal-close" onclick="closeModal('modal-lancer-affectation')">&times;</button>
                </div>
                <div class="form-group">
                    <label>P√©riode d'affectation:</label>
                    <select class="form-control">
                        <option>Semestre 1 - 2025/2026</option>
                        <option>Semestre 2 - 2025/2026</option>
                        <option>Ann√©e compl√®te 2025/2026</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Nombre de candidatures √† traiter: <strong>156</strong></label>
                </div>
                <div class="form-group">
                    <label>R√®gles appliqu√©es:</label>
                    <div style="border: 1px solid var(--border); padding: 15px; border-radius: 4px;">
                        <ul>
                            <li>Priorit√© par ann√©e d'√©tude</li>
                            <li>Respect des pr√©f√©rences √©tudiantes</li>
                            <li>Quotas par h√¥pital et service</li>
                            <li>Contraintes de disponibilit√©</li>
                        </ul>
                    </div>
                </div>
                <div class="form-group">
                    <label>Temps estim√©: <strong>3-5 minutes</strong></label>
                </div>
                <button class="btn btn-medical btn-block">D√©marrer l'affectation automatique</button>
            </div>
        </div>

        <!-- Forgot Password Modal -->
        <div id="modal-forgot-password" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>R√©initialisation du mot de passe</h3>
                    <button class="modal-close" onclick="closeModal('modal-forgot-password')">&times;</button>
                </div>
                <div class="form-group">
                    <label>Adresse email</label>
                    <input type="email" class="form-control" placeholder="votre@email.dz" required>
                </div>
                <div class="form-group">
                    <label>R√¥le</label>
                    <select class="form-control" required>
                        <option value="">S√©lectionnez votre r√¥le</option>
                        <option value="student">√âtudiant</option>
                        <option value="doctor">Docteur</option>
                        <option value="hospital-admin">Administrateur H√¥pital</option>
                        <option value="doyen">Doyen</option>
                    </select>
                </div>
                <button class="btn btn-medical btn-block">Envoyer le lien de r√©initialisation</button>
                <div class="login-links" style="margin-top: 15px; text-align: center;">
                    <a href="#" onclick="showLogin()">Retour √† la connexion</a>
                </div>
            </div>
        </div>

        <!-- Registration Modal -->
        <div id="modal-registration" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Inscription √âtudiant</h3>
                    <button class="modal-close" onclick="closeModal('modal-registration')">&times;</button>
                </div>

                <div class="registration-steps">
                    <div class="step active" id="step1">
                        <div class="step-number">1</div>
                        <div class="step-label">Informations personnelles</div>
                    </div>
                    <div class="step" id="step2">
                        <div class="step-number">2</div>
                        <div class="step-label">Informations acad√©miques</div>
                    </div>
                    <div class="step" id="step3">
                        <div class="step-number">3</div>
                        <div class="step-label">Compte et validation</div>
                    </div>
                </div>

                <form id="registration-form" class="registration-form">
                    <!-- Step 1: Personal Information -->
                    <div id="registration-step1" class="registration-step active">
                        <div class="form-group">
                            <label>Nom</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Pr√©nom</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Date de naissance</label>
                            <input type="date" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Lieu de naissance</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <button type="button" class="btn btn-medical btn-block" onclick="nextRegistrationStep(2)">Suivant</button>
                    </div>

                    <!-- Step 2: Academic Information -->
                    <div id="registration-step2" class="registration-step">
                        <div class="form-group">
                            <label>Num√©ro √©tudiant</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Facult√©</label>
                            <select class="form-control" required>
                                <option value="">S√©lectionnez votre facult√©</option>
                                <option value="medecine">Facult√© de M√©decine - Universit√© de Boumerd√®s</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Ann√©e d'√©tude</label>
                            <select class="form-control" required>
                                <option value="">S√©lectionnez votre ann√©e</option>
                                <option value="2">2√®me ann√©e</option>
                                <option value="3">3√®me ann√©e</option>
                                <option value="4">4√®me ann√©e</option>
                                <option value="5">5√®me ann√©e</option>
                                <option value="interne">Interne</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Sp√©cialit√©</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button type="button" class="btn btn-outline" style="flex: 1;" onclick="prevRegistrationStep(1)">Pr√©c√©dent</button>
                            <button type="button" class="btn btn-medical" style="flex: 1;" onclick="nextRegistrationStep(3)">Suivant</button>
                        </div>
                    </div>

                    <!-- Step 3: Account and Validation -->
                    <div id="registration-step3" class="registration-step">
                        <div class="form-group">
                            <label>Adresse email</label>
                            <input type="email" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Num√©ro de t√©l√©phone</label>
                            <input type="tel" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Mot de passe</label>
                            <input type="password" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Confirmer le mot de passe</label>
                            <input type="password" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" required>
                                J'accepte les conditions d'utilisation et la politique de confidentialit√©
                            </label>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button type="button" class="btn btn-outline" style="flex: 1;" onclick="prevRegistrationStep(2)">Pr√©c√©dent</button>
                            <button type="submit" class="btn btn-medical" style="flex: 1;">Cr√©er mon compte</button>
                        </div>
                    </div>
                </form>

                <div class="login-links" style="margin-top: 15px; text-align: center;">
                    <a href="#" onclick="showLogin()">D√©j√† un compte ? Se connecter</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Current user state
        let currentUser = null;
        let currentRole = null;

        // Demo user data
        const demoUsers = {
            'student': {
                email: 'n.terha@etudiant.dz',
                password: 'password123',
                name: 'Nabil Terha',
                numero: '2025001'
            },
            'doctor': {
                email: 'a.benali@hopital.dz',
                password: 'password123',
                name: 'Dr. Ahmed Benali'
            },
            'hospital-admin': {
                email: 'admin@chuboumerdes.dz',
                password: 'password123',
                name: 'Admin CHU Boumerd√®s'
            },
            'doyen': {
                email: 'doyen@facmed.dz',
                password: 'password123',
                name: 'Doyen Facult√© M√©decine'
            }
        };

        // Role configuration
        const roles = {
            'student': {
                name: '√âtudiant',
                nav: [
                    { name: 'Tableau de bord', section: 'student-dashboard' },
                    { name: 'Offres de stage', section: 'student-offres' },
                    { name: 'Mes candidatures', section: 'student-candidatures' },
                    { name: 'Mon planning', section: 'student-planning' },
                    { name: 'Mes √©valuations', section: 'student-evaluations' },
                    { name: 'Mon profil', section: 'student-profil' }
                ]
            },
            'doctor': {
                name: 'Docteur Encadrant',
                nav: [
                    { name: 'Tableau de bord', section: 'doctor-dashboard' },
                    { name: 'Mes stagiaires', section: 'doctor-stagiaires' },
                    { name: '√âvaluations', section: 'doctor-evaluations' },
                    { name: 'Planning', section: 'doctor-planning' }
                ]
            },
            'hospital-admin': {
                name: 'Administrateur H√¥pital',
                nav: [
                    { name: 'Tableau de bord', section: 'hospital-admin-dashboard' },
                    { name: 'Services', section: 'hospital-admin-services' },
                    { name: 'Offres de stage', section: 'hospital-admin-offres' },
                    { name: 'Candidatures', section: 'hospital-admin-candidatures' },
                    { name: 'Planning', section: 'hospital-admin-planning' }
                ]
            },
            'doyen': {
                name: 'Doyen',
                nav: [
                    { name: 'Tableau de bord', section: 'doyen-dashboard' },
                    { name: 'Validation offres', section: 'doyen-validation' },
                    { name: 'Utilisateurs', section: 'doyen-utilisateurs' },
                    { name: 'Affectation', section: 'doyen-affectation' },
                    { name: 'Reporting', section: 'doyen-reporting' }
                ]
            }
        };

        // Login form handler
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const role = document.getElementById('login-role').value;

            if (!email || !password || !role) {
                alert('Veuillez remplir tous les champs');
                return;
            }

            // Demo authentication
            if (demoUsers[role] && 
                (email === demoUsers[role].email || email === demoUsers[role].numero) && 
                password === demoUsers[role].password) {
                
                currentUser = demoUsers[role];
                currentRole = role;
                loginSuccess();
            } else {
                alert('Identifiants incorrects. Utilisez les d√©mos: email/num√©ro et password: password123');
            }
        });

        function loginSuccess() {
            // Hide login page, show main app
            document.getElementById('login-page').style.display = 'none';
            document.getElementById('main-app').style.display = 'block';
            
            // Update UI with user info
            document.getElementById('welcome-user').textContent = currentUser.name;
            document.getElementById('student-name').textContent = currentUser.name;
            document.getElementById('doctor-name').textContent = currentUser.name;
            document.getElementById('hospital-admin-name').textContent = currentUser.name;
            document.getElementById('doyen-name').textContent = currentUser.name;
            document.getElementById('current-role').textContent = roles[currentRole].name;
            
            // Initialize role-specific navigation
            selectRole(currentRole);
        }

        function logout() {
            currentUser = null;
            currentRole = null;
            document.getElementById('main-app').style.display = 'none';
            document.getElementById('login-page').style.display = 'flex';
            document.getElementById('login-form').reset();
        }

        function selectRole(roleKey) {
            const role = roles[roleKey];
            
            // Update current role display
            document.getElementById('current-role').textContent = role.name;
            
            // Show navigation
            document.getElementById('main-nav').style.display = 'block';
            
            // Populate navigation
            const navLinks = document.getElementById('nav-links');
            navLinks.innerHTML = '';
            
            role.nav.forEach(navItem => {
                const li = document.createElement('li');
                li.innerHTML = `<a href="#" class="nav-link" onclick="showSection('${navItem.section}')">${navItem.name}</a>`;
                navLinks.appendChild(li);
            });
            
            // Show first section
            if (role.nav.length > 0) {
                showSection(role.nav[0].section);
            }
            
            // Hide role selection
            document.getElementById('role-selection').classList.remove('active');
            
            // Initialize calendars if needed
            initializeCalendars();
        }

        function showRoleSelection() {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Hide navigation
            document.getElementById('main-nav').style.display = 'none';
            
            // Reset current role
            document.getElementById('current-role').textContent = 'S√©lectionnez un r√¥le';
            
            // Show role selection
            document.getElementById('role-selection').classList.add('active');
        }

        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            const activeLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }

        function showModal(modalId) {
            const modal = document.getElementById(`modal-${modalId}`);
            if (modal) {
                modal.style.display = 'flex';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
            }
        }

        function toggleNotifications() {
            const panel = document.getElementById('notifications-panel');
            if (panel.style.display === 'none' || panel.style.display === '') {
                panel.style.display = 'block';
            } else {
                panel.style.display = 'none';
            }
            
            // Hide messaging panel if open
            document.getElementById('messaging-panel').style.display = 'none';
        }

        function toggleMessaging() {
            const panel = document.getElementById('messaging-panel');
            if (panel.style.display === 'none' || panel.style.display === '') {
                panel.style.display = 'block';
            } else {
                panel.style.display = 'none';
            }
            
            // Hide notifications panel if open
            document.getElementById('notifications-panel').style.display = 'none';
        }

        function showMessaging() {
            document.getElementById('messaging-panel').style.display = 'block';
            document.getElementById('notifications-panel').style.display = 'none';
        }

        function showForgotPassword() {
            closeAllModals();
            showModal('forgot-password');
        }

        function showRegistration() {
            closeAllModals();
            showModal('registration');
        }

        function showLogin() {
            closeAllModals();
        }

        function closeAllModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
        }

        function updateRatingValue(slider, valueId) {
            document.getElementById(valueId).textContent = slider.value + '/20';
        }

        function showProfileTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.profile-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all nav links
            document.querySelectorAll('.profile-nav a').forEach(link => {
                link.classList.remove('active');
            });
            
            // Show selected tab
            const targetTab = document.getElementById(`tab-${tabName}`);
            if (targetTab) {
                targetTab.classList.add('active');
            }
            
            // Activate corresponding nav link
            const activeLink = document.querySelector(`.profile-nav a[onclick="showProfileTab('${tabName}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }

        function handleFileUpload(files) {
            if (files.length > 0) {
                alert(`${files.length} fichier(s) s√©lectionn√©(s) pour upload`);
                // Ici vous ajouteriez la logique d'upload r√©elle
            }
        }

        function nextRegistrationStep(nextStep) {
            // Hide current step
            document.querySelectorAll('.registration-step').forEach(step => {
                step.classList.remove('active');
            });
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });
            
            // Show next step
            document.getElementById(`registration-step${nextStep}`).classList.add('active');
            document.getElementById(`step${nextStep}`).classList.add('active');
        }

        function prevRegistrationStep(prevStep) {
            // Hide current step
            document.querySelectorAll('.registration-step').forEach(step => {
                step.classList.remove('active');
            });
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });
            
            // Show previous step
            document.getElementById(`registration-step${prevStep}`).classList.add('active');
            document.getElementById(`step${prevStep}`).classList.add('active');
        }

        function initializeCalendars() {
            // Initialize student calendar
            if (document.getElementById('calendar-student') && typeof $.fn.fullCalendar !== 'undefined') {
                $('#calendar-student').fullCalendar({
                    locale: 'fr',
                    header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'month,agendaWeek,agendaDay'
                    },
                    events: [
                        {
                            title: 'Stage Chirurgie',
                            start: '2025-09-01',
                            end: '2025-09-30',
                            color: '#2a7a5c'
                        },
                        {
                            title: 'R√©union √©quipe',
                            start: '2025-09-15T10:00:00',
                            end: '2025-09-15T11:30:00',
                            color: '#2c5aa0'
                        },
                        {
                            title: '√âvaluation',
                            start: '2025-09-25T14:00:00',
                            end: '2025-09-25T15:00:00',
                            color: '#ff6b00'
                        }
                    ]
                });
            }

            // Initialize other calendars similarly...
        }

        // Additional utility functions
        function donnerAvis(avis) {
            if (avis === 'favorable') {
                alert('Avis favorable enregistr√©');
            } else {
                alert('Avis d√©favorable enregistr√©');
            }
        }

        function validerOffre() {
            alert('Offre valid√©e avec succ√®s');
        }

        function refuserOffre() {
            if (confirm('√ätes-vous s√ªr de vouloir refuser cette offre ?')) {
                alert('Offre refus√©e');
            }
        }

        function executerAffectation() {
            alert('Affectation automatique lanc√©e...');
            // Simulation de traitement
            setTimeout(() => {
                alert('Affectation automatique termin√©e ! 145 √©tudiants affect√©s sur 156.');
            }, 2000);
        }

        function exporterCSV() {
            alert('Export CSV en cours...');
        }

        function exporterPDF() {
            alert('G√©n√©ration du PDF en cours...');
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // Handle registration form submission
        document.getElementById('registration-form').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Compte cr√©√© avec succ√®s ! Un email de confirmation a √©t√© envoy√©.');
            closeModal('modal-registration');
            showLogin();
        });

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Close all modals on load
            closeAllModals();
            
            // Initialize any other components
            console.log('Plateforme Stages M√©dicaux initialis√©e');
        });

        // Add keyboard support for modals
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeAllModals();
            }
        });

        // Export functions for HTML onclick handlers
        window.showSection = showSection;
        window.showModal = showModal;
        window.closeModal = closeModal;
        window.toggleNotifications = toggleNotifications;
        window.toggleMessaging = toggleMessaging;
        window.showMessaging = showMessaging;
        window.showForgotPassword = showForgotPassword;
        window.showRegistration = showRegistration;
        window.showLogin = showLogin;
        window.updateRatingValue = updateRatingValue;
        window.showProfileTab = showProfileTab;
        window.handleFileUpload = handleFileUpload;
        window.nextRegistrationStep = nextRegistrationStep;
        window.prevRegistrationStep = prevRegistrationStep;
        window.donnerAvis = donnerAvis;
        window.validerOffre = validerOffre;
        window.refuserOffre = refuserOffre;
        window.executerAffectation = executerAffectation;
        window.exporterCSV = exporterCSV;
        window.exporterPDF = exporterPDF;
        window.selectRole = selectRole;
        window.logout = logout;
    </script>
</body>
</html>